<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="Adam Barczewski">

    <link rel="stylesheet" href="./resource/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="./resource/css/bootstrap-theme.min.css"/>
    <script type="text/javascript" src="./resource/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="./resource/js/bootstrap.min.js"></script>

    <script>
        var wsocket;
        var serviceLocation = "ws://"+window.location.hostname+":";
        var clickCount = {};
        var $clickCount1;
        var $clickCount2;
        var $clickCount3;
        var $clickCount4;
        var $clickCount5;
        var $clickCount6;
        var $clickCount7;
        var $clickCount8;
        var $clickCount9;
        var $clickCount10;
        var $clickCount11;
        var $clickCount12;
        var $clickCount13;
        var $clickCount14;
        var $clickCount15;
        var $clickCount16;
        var $clickCount17;
        var $clickCount18;
        var $clickCount19;
        var $clickCount20;
        var $clickCount21;
        var $clickCount22;
        var $clickCount23;
        var $clickCount24;
        var $clickCount25;
        var $clickCountEven;
        var $countAllConquers;
        var userId;

        function connectToWebserver() {
            console.log('run connectToWebserver');
            var port = parseInt(window.location.port) + 10
            serviceLocation += port + "/";
            console.log('serviceLocation url: '+serviceLocation);
            wsocket = new WebSocket(serviceLocation + 'grid');

            wsocket.onmessage = function onMessageReceived(evt) {
                console.log('wsocket.onmessage');
                var msg = JSON.parse(evt.data); // native API

                if (msg.count1 != null) {
                    $clickCount1.text("" + msg.count1);
                }
                if (msg.count2 != null) {
                    $clickCount2.text("" + msg.count2);
                }
                if (msg.count3 != null) {
                    $clickCount3.text("" + msg.count3);
                }
                if (msg.count4 != null) {
                    $clickCount4.text("" + msg.count4);
                }
                if (msg.count5 != null) {
                    $clickCount5.text("" + msg.count5);
                }

                if (msg.count6 != null) {
                    $clickCount6.text("" + msg.count6);
                }
                if (msg.count7 != null) {
                    $clickCount7.text("" + msg.count7);
                }
                if (msg.count8 != null) {
                    $clickCount8.text("" + msg.count8);
                }
                if (msg.count9 != null) {
                    $clickCount9.text("" + msg.count9);
                }
                if (msg.count10 != null) {
                    $clickCount10.text("" + msg.count10);
                }

                if (msg.count11 != null) {
                    $clickCount11.text("" + msg.count11);
                }
                if (msg.count12 != null) {
                    $clickCount12.text("" + msg.count12);
                }
                if (msg.count13 != null) {
                    $clickCount13.text("" + msg.count13);
                }
                if (msg.count14 != null) {
                    $clickCount14.text("" + msg.count14);
                }
                if (msg.count15 != null) {
                    $clickCount15.text("" + msg.count15);
                }

                if (msg.count16 != null) {
                    $clickCount16.text("" + msg.count16);
                }
                if (msg.count17 != null) {
                    $clickCount17.text("" + msg.count17);
                }
                if (msg.count18 != null) {
                    $clickCount18.text("" + msg.count18);
                }
                if (msg.count19 != null) {
                    $clickCount19.text("" + msg.count19);
                }
                if (msg.count20 != null) {
                    $clickCount20.text("" + msg.count20);
                }

                if (msg.count21 != null) {
                    $clickCount21.text("" + msg.count21);
                }
                if (msg.count22 != null) {
                    $clickCount22.text("" + msg.count22);
                }
                if (msg.count23 != null) {
                    $clickCount23.text("" + msg.count23);
                }
                if (msg.count24 != null) {
                    $clickCount24.text("" + msg.count24);
                }
                if (msg.count25 != null) {
                    $clickCount25.text("" + msg.count25);
                }

                switch (msg.blockNumber) {
                    case 1 :
                        $clickCount1.text("" + msg.countConquer);
                        break;
                    case 2 :
                        $clickCount2.text("" + msg.countConquer);
                        break;
                    case 3 :
                        $clickCount3.text("" + msg.countConquer);
                        break;
                    case 4 :
                        $clickCount4.text("" + msg.countConquer);
                        break;
                    case 5 :
                        $clickCount5.text("" + msg.countConquer);
                        break;
                    case 6 :
                        $clickCount6.text("" + msg.countConquer);
                        break;
                    case 7 :
                        $clickCount7.text("" + msg.countConquer);
                        break;
                    case 8 :
                        $clickCount8.text("" + msg.countConquer);
                        break;
                    case 9 :
                        $clickCount9.text("" + msg.countConquer);
                        break;
                    case 10 :
                        $clickCount10.text("" + msg.countConquer);
                        break;
                    case 11 :
                        $clickCount11.text("" + msg.countConquer);
                        break;
                    case 12 :
                        $clickCount12.text("" + msg.countConquer);
                        break;
                    case 13 :
                        $clickCount13.text("" + msg.countConquer);
                        break;
                    case 14 :
                        $clickCount14.text("" + msg.countConquer);
                        break;
                    case 15 :
                        $clickCount15.text("" + msg.countConquer);
                        break;
                    case 16 :
                        $clickCount16.text("" + msg.countConquer);
                        break;
                    case 17 :
                        $clickCount17.text("" + msg.countConquer);
                        break;
                    case 18 :
                        $clickCount18.text("" + msg.countConquer);
                        break;
                    case 19 :
                        $clickCount19.text("" + msg.countConquer);
                        break;
                    case 20 :
                        $clickCount20.text("" + msg.countConquer);
                        break;
                    case 21 :
                        $clickCount21.text("" + msg.countConquer);
                        break;
                    case 22 :
                        $clickCount22.text("" + msg.countConquer);
                        break;
                    case 23 :
                        $clickCount23.text("" + msg.countConquer);
                        break;
                    case 24 :
                        $clickCount24.text("" + msg.countConquer);
                        break;
                    case 25 :
                        $clickCount25.text("" + msg.countConquer);
                        break;
                    default :
                        break;
                }

                if (msg.userId != null && userId == null) {
                    userId = msg.userId;
                }

                if (userId == msg.userId) {
                    if (msg.countEven != null) {
                        $clickCountEven.text("" + msg.countEven);
                    }

                    if (msg.countAllClick != null) {
                        $countAllConquers.text("" + msg.countAllClick);
                    }
                }
            }
        }

        function clickButton(blockNumber) {
            console.log('run clickButton' + blockNumber);
            var msg = '{"blockNumber":' + blockNumber + '}';
            console.log('JSON for send: ' + msg);
            wsocket.send(msg);
        }

        $(document).ready(function () {
            $clickCount1 = $('#clickcount1');
            $clickCount2 = $('#clickcount2');
            $clickCount3 = $('#clickcount3');
            $clickCount4 = $('#clickcount4');
            $clickCount5 = $('#clickcount5');
            $clickCount6 = $('#clickcount6');
            $clickCount7 = $('#clickcount7');
            $clickCount8 = $('#clickcount8');
            $clickCount9 = $('#clickcount9');
            $clickCount10 = $('#clickcount10');
            $clickCount11 = $('#clickcount11');
            $clickCount12 = $('#clickcount12');
            $clickCount13 = $('#clickcount13');
            $clickCount14 = $('#clickcount14');
            $clickCount15 = $('#clickcount15');
            $clickCount16 = $('#clickcount16');
            $clickCount17 = $('#clickcount17');
            $clickCount18 = $('#clickcount18');
            $clickCount19 = $('#clickcount19');
            $clickCount20 = $('#clickcount20');
            $clickCount21 = $('#clickcount21');
            $clickCount22 = $('#clickcount22');
            $clickCount23 = $('#clickcount23');
            $clickCount24 = $('#clickcount24');
            $clickCount25 = $('#clickcount25');
            $clickCountEven = $('#countAllEven');
            $countAllConquers = $('#countAllClick');

            connectToWebserver();

            $('#block1Button').click(function (evt) {
                evt.preventDefault();
                clickButton(1);
            });

            $('#block2Button').click(function (evt) {
                evt.preventDefault();
                clickButton(2);
            });

            $('#block3Button').click(function (evt) {
                evt.preventDefault();
                clickButton(3);
            });

            $('#block4Button').click(function (evt) {
                evt.preventDefault();
                clickButton(4);
            });

            $('#block5Button').click(function (evt) {
                evt.preventDefault();
                clickButton(5);
            });

            $('#block6Button').click(function (evt) {
                evt.preventDefault();
                clickButton(6);
            });

            $('#block7Button').click(function (evt) {
                evt.preventDefault();
                clickButton(7);
            });

            $('#block8Button').click(function (evt) {
                evt.preventDefault();
                clickButton(8);
            });

            $('#block9Button').click(function (evt) {
                evt.preventDefault();
                clickButton(9);
            });

            $('#block10Button').click(function (evt) {
                evt.preventDefault();
                clickButton(10);
            });

            $('#block11Button').click(function (evt) {
                evt.preventDefault();
                clickButton(11);
            });

            $('#block12Button').click(function (evt) {
                evt.preventDefault();
                clickButton(12);
            });

            $('#block13Button').click(function (evt) {
                evt.preventDefault();
                clickButton(13);
            });

            $('#block14Button').click(function (evt) {
                evt.preventDefault();
                clickButton(14);
            });

            $('#block15Button').click(function (evt) {
                evt.preventDefault();
                clickButton(15);
            });

            $('#block16Button').click(function (evt) {
                evt.preventDefault();
                clickButton(16);
            });

            $('#block17Button').click(function (evt) {
                evt.preventDefault();
                clickButton(17);
            });

            $('#block18Button').click(function (evt) {
                evt.preventDefault();
                clickButton(18);
            });

            $('#block19Button').click(function (evt) {
                evt.preventDefault();
                clickButton(19);
            });

            $('#block20Button').click(function (evt) {
                evt.preventDefault();
                clickButton(20);
            });

            $('#block21Button').click(function (evt) {
                evt.preventDefault();
                clickButton(21);
            });

            $('#block22Button').click(function (evt) {
                evt.preventDefault();
                clickButton(22);
            });

            $('#block23Button').click(function (evt) {
                evt.preventDefault();
                clickButton(23);
            });

            $('#block24Button').click(function (evt) {
                evt.preventDefault();
                clickButton(24);
            });

            $('#block25Button').click(function (evt) {
                evt.preventDefault();
                clickButton(25);
            });
        });
    </script>

    <style>
        .col-lg-15 {
            position: relative;
            min-height: 1px;
            padding-right: 10px;
            padding-left: 10px;
        }

        @media (min-width: 1200px) {
            .col-lg-15 {
                width: 20%;
                float: left;
            }
        }
    </style>

</head>

<body>

<div class="container">
    <div class="row" style="margin-top: 10px">
        <div class="col-lg-12">
            <h1>POC WebSocket Grid Ticker
                <small>Autor: Adam Barczewski <a href="http://webownia.net" target="_blank">webownia.net</a></small>
            </h1>
        </div>
    </div>

    <hr/>

    <form class="form-cliecker">
        <div class="row">
            <div class="col-lg-15">
                <h4>Your all conquers: <span id="countAllClick">0</span></h4>
            </div>
            <div class="col-lg-15">
                <h4>Your all even conquers: <span id="countAllEven">0</span></h4>
            </div>
        </div>

        <!--ROW 1-->
        <div class="row" style="text-align: center">
            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount1">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block1Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount2">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block2Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount3">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block3Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount4">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block4Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount5">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block5Button">Conquer</button>
                </div>
            </div>
        </div>

        <!--ROW 2-->
        <div class="row" style="text-align: center">
            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount6">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block6Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount7">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block7Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount8">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block8Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount9">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block9Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount10">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block10Button">Conquer</button>
                </div>
            </div>
        </div>

        <!--ROW 3-->
        <div class="row" style="text-align: center">
            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount11">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block11Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount12">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block12Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount13">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block13Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount14">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block14Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount15">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block15Button">Conquer</button>
                </div>
            </div>
        </div>

        <!--ROW 4-->
        <div class="row" style="text-align: center">
            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount16">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block16Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount17">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block17Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount18">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block18Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount19">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block19Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount20">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block20Button">Conquer</button>
                </div>
            </div>
        </div>

        <!--ROW 5-->
        <div class="row" style="text-align: center">
            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount21">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block21Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount22">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block22Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount23">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block23Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount24">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block24Button">Conquer</button>
                </div>
            </div>

            <div class="col-lg-15">
                <div class="well center-block" style="padding:10%">
                    <h4>Conquers: <span id="clickcount25">0</span></h4>
                    <button type="button" class="btn btn-primary btn-lg" id="block25Button">Conquer</button>
                </div>
            </div>
        </div>
    </form>
</div>
</body>
</html>
